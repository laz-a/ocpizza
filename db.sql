-- MySQL Script generated by MySQL Workbench
-- Sun Sep 18 14:15:31 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema OCPizza
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `Pizzeria`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Pizzeria` (
  `idPizzeria` INT NOT NULL AUTO_INCREMENT,
  `createdDate` DATETIME NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `desciption` LONGTEXT NOT NULL,
  `image` BLOB NULL,
  `street` VARCHAR(120) NOT NULL,
  `postCode` MEDIUMINT(5) UNSIGNED NOT NULL,
  `city` VARCHAR(60) NOT NULL,
  `phoneNumber` VARCHAR(20) NOT NULL,
  `distanceMax` INT NOT NULL,
  PRIMARY KEY (`idPizzeria`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `User`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `User` (
  `idUser` INT NOT NULL AUTO_INCREMENT,
  `idPizzeria` INT NULL DEFAULT NULL,
  `createdDate` DATETIME NOT NULL,
  `firstName` VARCHAR(45) NOT NULL,
  `lastName` VARCHAR(45) NOT NULL,
  `phoneNumber` VARCHAR(20) NOT NULL,
  `email` VARCHAR(120) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `role` ENUM("Client", "Pizzaiolo", "Livreur", "Gérant", "Admin") NOT NULL,
  PRIMARY KEY (`idUser`),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC),
  INDEX `fk_User_Pizzeria_idx` (`idPizzeria` ASC),
  CONSTRAINT `fk_User_Pizzeria`
    FOREIGN KEY (`idPizzeria`)
    REFERENCES `Pizzeria` (`idPizzeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Ingredient`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Ingredient` (
  `idIngredient` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL,
  `unit` ENUM("l", "g", "piéce") NOT NULL,
  PRIMARY KEY (`idIngredient`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Stock`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Stock` (
  `idStock` INT NOT NULL AUTO_INCREMENT,
  `idPizzeria` INT NOT NULL,
  `idIngredient` INT NOT NULL,
  `quantity` MEDIUMINT(2) UNSIGNED NULL,
  PRIMARY KEY (`idStock`, `idPizzeria`, `idIngredient`),
  INDEX `fk_Stock_Ingredient1_idx` (`idIngredient` ASC),
  INDEX `fk_Stock_Pizzeria1_idx` (`idPizzeria` ASC),
  CONSTRAINT `fk_Stock_Ingredient1`
    FOREIGN KEY (`idIngredient`)
    REFERENCES `Ingredient` (`idIngredient`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Stock_Pizzeria1`
    FOREIGN KEY (`idPizzeria`)
    REFERENCES `Pizzeria` (`idPizzeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Category` (
  `idCategory` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCategory`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Pizza`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Pizza` (
  `idPizza` INT NOT NULL AUTO_INCREMENT,
  `idCategory` INT NOT NULL,
  `createdDate` DATETIME NOT NULL,
  `name` VARCHAR(60) NOT NULL,
  `description` MEDIUMTEXT NOT NULL,
  `image` BLOB NULL,
  `memo` MEDIUMTEXT NOT NULL,
  PRIMARY KEY (`idPizza`),
  INDEX `fk_Pizza_Category1_idx` (`idCategory` ASC),
  CONSTRAINT `fk_Pizza_Category1`
    FOREIGN KEY (`idCategory`)
    REFERENCES `Category` (`idCategory`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PizzaPizzeria`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PizzaPizzeria` (
  `idPizzeria` INT NOT NULL,
  `idPizza` INT NOT NULL,
  `createdDate` DATETIME NOT NULL,
  `price` FLOAT NOT NULL,
  `tva` ENUM("5") NOT NULL,
  PRIMARY KEY (`idPizzeria`, `idPizza`),
  INDEX `fk_Pizza_has_Pizzeria_Pizzeria1_idx` (`idPizzeria` ASC),
  INDEX `fk_Pizza_has_Pizzeria_Pizza1_idx` (`idPizza` ASC),
  CONSTRAINT `fk_Pizza_has_Pizzeria_Pizza1`
    FOREIGN KEY (`idPizza`)
    REFERENCES `Pizza` (`idPizza`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Pizza_has_Pizzeria_Pizzeria1`
    FOREIGN KEY (`idPizzeria`)
    REFERENCES `Pizzeria` (`idPizzeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Cart`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Cart` (
  `idCart` INT NOT NULL AUTO_INCREMENT,
  `idUser` INT NOT NULL,
  `createdDate` DATETIME NOT NULL,
  PRIMARY KEY (`idCart`, `idUser`),
  INDEX `fk_Cart_User1_idx` (`idUser` ASC),
  CONSTRAINT `fk_Cart_User1`
    FOREIGN KEY (`idUser`)
    REFERENCES `User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Address`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Address` (
  `idAddress` INT NOT NULL AUTO_INCREMENT,
  `idUser` INT NOT NULL,
  `type` ENUM("Facturation", "Livraison") NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `lastName` VARCHAR(45) NOT NULL,
  `street` VARCHAR(120) NOT NULL,
  `postCode` MEDIUMINT(5) UNSIGNED NOT NULL,
  `city` VARCHAR(60) NOT NULL,
  `floor` SMALLINT(2) NULL,
  `door` VARCHAR(45) NULL,
  `intercom` VARCHAR(45) NULL,
  `digicode` VARCHAR(45) NULL,
  `complement` VARCHAR(120) NULL,
  PRIMARY KEY (`idAddress`, `idUser`),
  INDEX `fk_Address_User1_idx` (`idUser` ASC),
  CONSTRAINT `fk_Address_User1`
    FOREIGN KEY (`idUser`)
    REFERENCES `User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Order`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Order` (
  `idOrder` INT NOT NULL AUTO_INCREMENT,
  `idCart` INT NOT NULL,
  `idPizzeria` INT NOT NULL,
  `idAddress` INT NOT NULL,
  `createdDate` DATETIME NOT NULL,
  `paymentMethod` ENUM("Carte bleu", "Espèces") NULL,
  PRIMARY KEY (`idOrder`, `idCart`, `idPizzeria`, `idAddress`),
  INDEX `fk_Order_Pizzeria1_idx` (`idPizzeria` ASC),
  INDEX `fk_Order_Cart1_idx` (`idCart` ASC),
  INDEX `fk_Order_Address1_idx` (`idAddress` ASC),
  CONSTRAINT `fk_Order_Pizzeria1`
    FOREIGN KEY (`idPizzeria`)
    REFERENCES `Pizzeria` (`idPizzeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Order_Cart1`
    FOREIGN KEY (`idCart`)
    REFERENCES `Cart` (`idCart`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Order_Address1`
    FOREIGN KEY (`idAddress`)
    REFERENCES `Address` (`idAddress`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `UserPlanning`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `UserPlanning` (
  `idPlanning` INT NOT NULL AUTO_INCREMENT,
  `idUser` INT NOT NULL,
  `startTime` DATETIME NOT NULL,
  `endTime` DATETIME NOT NULL,
  PRIMARY KEY (`idPlanning`, `idUser`),
  INDEX `fk_Planning_User1_idx` (`idUser` ASC),
  CONSTRAINT `fk_Planning_User1`
    FOREIGN KEY (`idUser`)
    REFERENCES `User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `History`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `History` (
  `idHistory` INT NOT NULL AUTO_INCREMENT,
  `idOrder` INT NOT NULL,
  `idUser` INT NOT NULL,
  `createdDate` DATETIME NULL,
  `type` ENUM("Paiement", "Statut") NOT NULL,
  `value` ENUM("Payée", "A payer", "Confirmée", "Annulée", "Acceptée", "Refusée", "En cours de préparation", "Préparée", "En cours de livraison", "Livrée") NOT NULL,
  `message` VARCHAR(120) NULL,
  PRIMARY KEY (`idHistory`, `idOrder`, `idUser`),
  INDEX `fk_History_Order1_idx` (`idOrder` ASC),
  INDEX `fk_History_User1_idx` (`idUser` ASC),
  CONSTRAINT `fk_History_Order1`
    FOREIGN KEY (`idOrder`)
    REFERENCES `Order` (`idOrder`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_History_User1`
    FOREIGN KEY (`idUser`)
    REFERENCES `User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PizzeriaPlanning`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PizzeriaPlanning` (
  `idPizzeriaPlanning` INT NOT NULL AUTO_INCREMENT,
  `idPizzeria` INT NOT NULL,
  `startTime` DATETIME NOT NULL,
  `endTime` DATETIME NOT NULL,
  PRIMARY KEY (`idPizzeriaPlanning`, `idPizzeria`),
  INDEX `fk_PizzeriaPlanning_Pizzeria1_idx` (`idPizzeria` ASC),
  CONSTRAINT `fk_PizzeriaPlanning_Pizzeria1`
    FOREIGN KEY (`idPizzeria`)
    REFERENCES `Pizzeria` (`idPizzeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StockPizza`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StockPizza` (
  `idPizza` INT NOT NULL,
  `idStock` INT NOT NULL,
  `quantity` MEDIUMINT(2) UNSIGNED NULL,
  PRIMARY KEY (`idPizza`, `idStock`),
  INDEX `fk_Stock_has_Pizza_Pizza1_idx` (`idPizza` ASC),
  INDEX `fk_Stock_has_Pizza_Stock1_idx` (`idStock` ASC),
  CONSTRAINT `fk_Stock_has_Pizza_Stock1`
    FOREIGN KEY (`idStock`)
    REFERENCES `Stock` (`idStock`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Stock_has_Pizza_Pizza1`
    FOREIGN KEY (`idPizza`)
    REFERENCES `Pizza` (`idPizza`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CartPizza`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CartPizza` (
  `idCart` INT NOT NULL,
  `idPizza` INT NOT NULL,
  `createdDate` DATETIME NULL,
  `quantity` TINYINT(2) UNSIGNED NOT NULL,
  PRIMARY KEY (`idCart`, `idPizza`),
  INDEX `fk_CartItem_Pizza1_idx` (`idPizza` ASC),
  INDEX `fk_CartItem_Cart1_idx` (`idCart` ASC),
  CONSTRAINT `fk_CartItem_Pizza1`
    FOREIGN KEY (`idPizza`)
    REFERENCES `Pizza` (`idPizza`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CartItem_Cart1`
    FOREIGN KEY (`idCart`)
    REFERENCES `Cart` (`idCart`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `Pizzeria`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Pizzeria` (`idPizzeria`, `createdDate`, `name`, `desciption`, `image`, `street`, `postCode`, `city`, `phoneNumber`, `distanceMax`) VALUES (1, '2022-09-01 14:53:27', 'La pizzeria', 'La meilleur pizzeria au monde', NULL, '41 Rue des Postes', 59000, 'Lille', '0320545334', 5000);
INSERT INTO `Pizzeria` (`idPizzeria`, `createdDate`, `name`, `desciption`, `image`, `street`, `postCode`, `city`, `phoneNumber`, `distanceMax`) VALUES (2, '2022-09-02 16:23:37', 'La pizz', 'La 2eme meilleur pizzeria au monde', NULL, '246 Rue du Faubourg d\'Arras', 59000, 'Lille', '0320515634', 5500);

COMMIT;


-- -----------------------------------------------------
-- Data for table `User`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (1, NULL, '2022-09-01 14:53:27', 'Lola', 'Admin', '0612345671', 'lola@ocpizza.fr', 'crypedPassword', 'Admin');
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (2, 1, '2022-09-01 14:53:27', 'Kofi', 'Gérant', '0612345672', 'kofi@ocpizza.fr', 'crypedPassword', 'Gérant');
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (3, 1, '2022-09-01 14:53:27', 'Jenny', 'Pizzaiolo', '0612345673', 'jenny@ocpizza.fr', 'crypedPassword', 'Pizzaiolo');
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (4, 1, '2022-09-01 14:53:27', 'Kiki', 'Livreur', '0612345674', 'kiki@ocpizza.fr', 'crypedPassword', 'Livreur');
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (5, 1, '2022-09-01 14:53:27', 'Steven', 'Client', '0612345675', 'steven@gmail.com', 'crypedPassword', 'Client');
INSERT INTO `User` (`idUser`, `idPizzeria`, `createdDate`, `firstName`, `lastName`, `phoneNumber`, `email`, `password`, `role`) VALUES (6, 1, '2022-09-01 14:53:27', 'Greg', 'Client', '0612345676', 'greg@gmail.com', 'crypedPassword', 'Client');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Ingredient`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (1, 'Pate', 'pièce');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (2, 'Sauce tomate', 'l');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (3, 'Mozzarella', 'g');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (4, 'Origan', 'g');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (5, 'Thon', 'g');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (6, 'Champignon', 'g');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (7, 'Emmental rapé', 'g');
INSERT INTO `Ingredient` (`idIngredient`, `name`, `unit`) VALUES (8, 'Olive', 'g');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Stock`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (1, 1, 1, 120);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (2, 1, 2, 33);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (3, 1, 3, 4500);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (4, 1, 4, 3400);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (5, 1, 5, 6700);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (6, 1, 6, 3400);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (7, 1, 7, 5500);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (8, 1, 8, 6600);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (9, 2, 1, 122);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (10, 2, 2, 44);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (11, 2, 3, 5400);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (12, 2, 4, 8790);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (13, 2, 5, 5640);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (14, 2, 6, 8970);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (15, 2, 7, 5640);
INSERT INTO `Stock` (`idStock`, `idPizzeria`, `idIngredient`, `quantity`) VALUES (16, 2, 8, 6750);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Category`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Category` (`idCategory`, `name`) VALUES (1, 'Végétarien');
INSERT INTO `Category` (`idCategory`, `name`) VALUES (2, 'Produit de la mer');
INSERT INTO `Category` (`idCategory`, `name`) VALUES (3, 'Viande');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Pizza`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Pizza` (`idPizza`, `idCategory`, `createdDate`, `name`, `description`, `image`, `memo`) VALUES (1, 1, '2022-09-01 13:10:10', 'Végétarienne', 'Pour les végétarien', NULL, 'Commencer par la sauce tomate, et après le reste des ingrédients');
INSERT INTO `Pizza` (`idPizza`, `idCategory`, `createdDate`, `name`, `description`, `image`, `memo`) VALUES (2, 1, '2022-09-01 14:10:10', 'Margherita', 'La plus simple', NULL, 'Commencer par la sauce tomate, et après le reste des ingrédients');
INSERT INTO `Pizza` (`idPizza`, `idCategory`, `createdDate`, `name`, `description`, `image`, `memo`) VALUES (3, 2, '2022-09-01 15:10:10', 'Provençale', 'Avec du thon', NULL, 'Commencer par la sauce tomate, et après le reste des ingrédients');

COMMIT;


-- -----------------------------------------------------
-- Data for table `PizzaPizzeria`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (1, 1, '2022-09-01 14:53:27', 18.50, '5');
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (1, 2, '2022-09-01 14:53:27', 16.00, '5');
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (1, 3, '2022-09-01 14:53:27', 15.99, '5');
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (2, 1, '2022-09-01 14:53:27', 18.50, '5');
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (2, 2, '2022-09-01 14:53:27', 16.00, '5');
INSERT INTO `PizzaPizzeria` (`idPizzeria`, `idPizza`, `createdDate`, `price`, `tva`) VALUES (2, 3, '2022-09-01 14:53:27', 16.99, '5');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Cart`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Cart` (`idCart`, `idUser`, `createdDate`) VALUES (1, 6, '2022-09-03 13:33:43');
INSERT INTO `Cart` (`idCart`, `idUser`, `createdDate`) VALUES (2, 5, '2022-09-05 12:11:00');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Address`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Address` (`idAddress`, `idUser`, `type`, `name`, `lastName`, `street`, `postCode`, `city`, `floor`, `door`, `intercom`, `digicode`, `complement`) VALUES (1, 5, 'Facturation', 'Steven', 'Pizz', '22 rue saint jean', 59000, 'Lille', NULL, NULL, NULL, NULL, NULL);
INSERT INTO `Address` (`idAddress`, `idUser`, `type`, `name`, `lastName`, `street`, `postCode`, `city`, `floor`, `door`, `intercom`, `digicode`, `complement`) VALUES (2, 5, 'Livraison', 'Steven', 'Pizz', '22 rue saint jean', 59000, 'Lille', 1, '12', NULL, '1234', NULL);
INSERT INTO `Address` (`idAddress`, `idUser`, `type`, `name`, `lastName`, `street`, `postCode`, `city`, `floor`, `door`, `intercom`, `digicode`, `complement`) VALUES (3, 6, 'Livraison', 'Greg', 'Pizz', '45 rue des loups', 59000, 'Lille', 3, 'Gauche', '332', NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Order`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `Order` (`idOrder`, `idCart`, `idPizzeria`, `idAddress`, `createdDate`, `paymentMethod`) VALUES (1, 2, 1, 2, '2022-09-05 12:13:47', 'Carte bleu');

COMMIT;


-- -----------------------------------------------------
-- Data for table `UserPlanning`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (1, 3, '2022-09-01 12:00:00', '2022-09-01 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (2, 3, '2022-09-02 12:00:00', '2022-09-02 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (3, 3, '2022-09-03 12:00:00', '2022-09-03 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (4, 3, '2022-09-04 12:00:00', '2022-09-04 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (5, 3, '2022-09-05 12:00:00', '2022-09-05 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (6, 4, '2022-09-01 12:00:00', '2022-09-01 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (7, 4, '2022-09-02 12:00:00', '2022-09-02 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (8, 4, '2022-09-03 12:00:00', '2022-09-03 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (9, 4, '2022-09-04 12:00:00', '2022-09-04 20:00:00');
INSERT INTO `UserPlanning` (`idPlanning`, `idUser`, `startTime`, `endTime`) VALUES (10, 4, '2022-09-05 12:00:00', '2022-09-05 20:00:00');

COMMIT;


-- -----------------------------------------------------
-- Data for table `History`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (1, 1, 5, '2022-09-05 12:13:47', 'Paiement', 'Payée', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (2, 1, 5, '2022-09-05 12:13:26', 'Statut', 'Confirmée', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (3, 1, 3, '2022-09-05 12:14:32', 'Statut', 'Acceptée', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (4, 1, 3, '2022-09-05 12:14:32', 'Statut', 'En cours de préparation', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (5, 1, 3, '2022-09-05 12:33:45', 'Statut', 'Préparée', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (6, 1, 4, '2022-09-05 12:35:54', 'Statut', 'En cours de livraison', NULL);
INSERT INTO `History` (`idHistory`, `idOrder`, `idUser`, `createdDate`, `type`, `value`, `message`) VALUES (7, 1, 4, '2022-09-05 12:51:34', 'Statut', 'Livrée', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `PizzeriaPlanning`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (1, 1, '2022-09-01 12:00:00', '2022-09-01 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (2, 1, '2022-09-02 12:00:00', '2022-09-02 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (3, 1, '2022-09-03 12:00:00', '2022-09-03 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (4, 1, '2022-09-04 12:00:00', '2022-09-04 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (5, 1, '2022-09-05 12:00:00', '2022-09-05 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (6, 1, '2022-09-06 12:00:00', '2022-09-06 23:59:59');
INSERT INTO `PizzeriaPlanning` (`idPizzeriaPlanning`, `idPizzeria`, `startTime`, `endTime`) VALUES (7, 1, '2022-09-07 12:00:00', '2022-09-07 23:59:59');

COMMIT;


-- -----------------------------------------------------
-- Data for table `StockPizza`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 1, 1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 2, 0.1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 3, 50);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 4, 3);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 6, 80);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (1, 8, 15);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (2, 1, 1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (2, 2, 0.1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (2, 3, 75);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (2, 4, 3);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 9, 1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 10, 0.1);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 11, 50);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 12, 3);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 13, 30);
INSERT INTO `StockPizza` (`idPizza`, `idStock`, `quantity`) VALUES (3, 16, 15);

COMMIT;


-- -----------------------------------------------------
-- Data for table `CartPizza`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `CartPizza` (`idCart`, `idPizza`, `createdDate`, `quantity`) VALUES (1, 1, '2022-09-03 13:30:43', 1);
INSERT INTO `CartPizza` (`idCart`, `idPizza`, `createdDate`, `quantity`) VALUES (1, 2, '2022-09-03 13:31:16', 2);
INSERT INTO `CartPizza` (`idCart`, `idPizza`, `createdDate`, `quantity`) VALUES (2, 1, '2022-09-05 12:09:21', 1);
INSERT INTO `CartPizza` (`idCart`, `idPizza`, `createdDate`, `quantity`) VALUES (2, 3, '2022-09-05 12:10:44', 1);

COMMIT;

